@import "./variables"

$default-android-color: #6FBEB5

@mixin bootstrap-style-ios($brand-style)
    background-color: $brand-style
    border-color: $brand-style
    box-shadow: $brand-style 0 0 0 16px inset

@mixin bootstrap-style-android($brand-style)
    background-color: $brand-style
    border: none
    box-shadow: none

@mixin dynamic-float($min-width, $max-width, $direction)
    @media (min-width: $min-width) and (max-width: $max-width)
        float: $direction

@mixin ios
    .widget-switch-btn-wrapper
        background-color: #fff
        border: 1px solid #dfdfdf
        border-radius: 20px
        cursor: pointer
        display: inline-block
        height: 30px
        position: relative
        vertical-align: middle
        width: 50px

        -moz-user-select: none
        -webkit-user-select: none
        -ms-user-select: none
        user-select: none

        -webkit-box-sizing: content-box
        -moz-box-sizing: content-box
        box-sizing: content-box

        -webkit-background-clip: content-box
        background-clip: content-box

        &.checked
            transition: border 0.4s, box-shadow 0.4s, background-color 1.2s

            &.widget-switch-btn-wrapper-default
                @include bootstrap-style-ios($brand-default)

            &.widget-switch-btn-wrapper-success
                @include bootstrap-style-ios($brand-success)

            &.widget-switch-btn-wrapper-info
                @include bootstrap-style-ios($brand-info)

            &.widget-switch-btn-wrapper-primary
                @include bootstrap-style-ios($brand-primary)

            &.widget-switch-btn-wrapper-warning
                @include bootstrap-style-ios($brand-warning)

            &.widget-switch-btn-wrapper-danger
                @include bootstrap-style-ios($brand-danger)

        &.un-checked
            border-color: rgb(223, 223, 223)
            box-shadow: rgb(223, 223, 223) 0 0 0 0 inset
            transition: border 0.4s, box-shadow 0.4s

        .widget-switch-btn
            background: #fff
            border-radius: 100%
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.4)
            height: 30px
            position: absolute
            top: 0
            width: 30px

            &.left
                left: 0
                transition: background-color 0.4s, left 0.2s

                &:active
                    width: 70%
                    border-radius: 45%

            &.right
                left: 20px
                transition: background-color 0.4s, left 0.2s
                background-color: rgb(255, 255, 255)

                &:active
                    left: 30%
                    transition: left 0s
                    width: 70%
                    border-radius: 45%

        &.no-switch
            .widget-switch-btn
                display: none
                &:active
                    box-shadow: none

        &.disabled
            opacity: 0.5
            cursor: default

            .left
                &:active
                    width: 30px
                    border-radius: 50%

            .right
                &:active
                    width: 30px
                    left: 20px
                    border-radius: 50%

@mixin android
    .widget-switch-btn-wrapper
        position: relative
        display: block
        height: 20px
        width: 44px
        background: #898989
        border: none
        box-shadow: none
        border-radius: 100px
        cursor: pointer
        transition: all .3s ease

        .widget-switch-btn
            position: absolute
            left: -2px
            top: -3px
            display: block
            width: 26px
            height: 26px
            border-radius: 100px
            background: white
            box-shadow: 0 1px 3px rgba(#000,.4)
            content: ''
            transition: all .3s ease

        &:active
            .widget-switch-btn
                transform: scale(1.15, .85)

        &.checked
            background: #6FBEB5

            &.widget-switch-btn-wrapper-default
                @include bootstrap-style-android($default-android-color)

            .widget-switch-btn
                left: 20px
                background: #179588

        &.disabled
            background: #D5D5D5
            pointer-events: none

            .widget-switch-btn
                    background: #BCBDBC

.widget-switch
    float: left

    @include dynamic-float(320px, 736px, right)
    @include dynamic-float(768px, 1024px, right)

    .widget-switch-checkbox
        display: none

    &.iOS
        @include ios

    &.android
        @include android

    &.auto

        /* ----------- iPhone 5 & 5S ----------- */

        /* Portrait and Landscape */
        @media only screen and (min-device-width: 320px) and (max-device-width: 568px) and (-webkit-min-device-pixel-ratio: 2)
            @include ios

        /* ----------- iPhone 6 ----------- */

        /* Portrait and Landscape */
        @media only screen and (min-device-width: 375px) and (max-device-width: 667px) and (-webkit-min-device-pixel-ratio: 2)
            @include ios

        /* ----------- Galaxy S5 ----------- */

        /* Portrait and Landscape */
        @media screen and (device-width: 360px) and (device-height: 640px) and (-webkit-device-pixel-ratio: 3)
            @include android
.form-group
    .widget-switch
        float: left

    .control-label
        &.widget-switch-label
            float: right
            padding-top: 8px
            padding-bottom: 8px

    .widget-switch
        @include dynamic-float(320px, 736px, right)
        @include dynamic-float(768px, 1024px, right)

    .control-label
        &.widget-switch-label
            @include dynamic-float(320px, 736px, left)
            @include dynamic-float(768px, 1024px, left)
